# Copyright 2025 Lewa-Reka <lewareka.yt@gmail.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

select:
  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 1 Start"
    address: 148
    value_type: U_WORD
    icon: "mdi:clock-start"
    optionsmap: &tou_optionsmap
      "00:00": 0
      "00:05": 5
      "00:10": 10
      "00:15": 15
      "00:20": 20
      "00:25": 25
      "00:30": 30
      "00:35": 35
      "00:40": 40
      "00:45": 45
      "00:50": 50
      "00:55": 55
      "01:00": 100
      "01:05": 105
      "01:10": 110
      "01:15": 115
      "01:20": 120
      "01:25": 125
      "01:30": 130
      "01:35": 135
      "01:40": 140
      "01:45": 145
      "01:50": 150
      "01:55": 155
      "02:00": 200
      "02:05": 205
      "02:10": 210
      "02:15": 215
      "02:20": 220
      "02:25": 225
      "02:30": 230
      "02:35": 235
      "02:40": 240
      "02:45": 245
      "02:50": 250
      "02:55": 255
      "03:00": 300
      "03:05": 305
      "03:10": 310
      "03:15": 315
      "03:20": 320
      "03:25": 325
      "03:30": 330
      "03:35": 335
      "03:40": 340
      "03:45": 345
      "03:50": 350
      "03:55": 355
      "04:00": 400
      "04:05": 405
      "04:10": 410
      "04:15": 415
      "04:20": 420
      "04:25": 425
      "04:30": 430
      "04:35": 435
      "04:40": 440
      "04:45": 445
      "04:50": 450
      "04:55": 455
      "05:00": 500
      "05:05": 505
      "05:10": 510
      "05:15": 515
      "05:20": 520
      "05:25": 525
      "05:30": 530
      "05:35": 535
      "05:40": 540
      "05:45": 545
      "05:50": 550
      "05:55": 555
      "06:00": 600
      "06:05": 605
      "06:10": 610
      "06:15": 615
      "06:20": 620
      "06:25": 625
      "06:30": 630
      "06:35": 635
      "06:40": 640
      "06:45": 645
      "06:50": 650
      "06:55": 655
      "07:00": 700
      "07:05": 705
      "07:10": 710
      "07:15": 715
      "07:20": 720
      "07:25": 725
      "07:30": 730
      "07:35": 735
      "07:40": 740
      "07:45": 745
      "07:50": 750
      "07:55": 755
      "08:00": 800
      "08:05": 805
      "08:10": 810
      "08:15": 815
      "08:20": 820
      "08:25": 825
      "08:30": 830
      "08:35": 835
      "08:40": 840
      "08:45": 845
      "08:50": 850
      "08:55": 855
      "09:00": 900
      "09:05": 905
      "09:10": 910
      "09:15": 915
      "09:20": 920
      "09:25": 925
      "09:30": 930
      "09:35": 935
      "09:40": 940
      "09:45": 945
      "09:50": 950
      "09:55": 955
      "10:00": 1000
      "10:05": 1005
      "10:10": 1010
      "10:15": 1015
      "10:20": 1020
      "10:25": 1025
      "10:30": 1030
      "10:35": 1035
      "10:40": 1040
      "10:45": 1045
      "10:50": 1050
      "10:55": 1055
      "11:00": 1100
      "11:05": 1105
      "11:10": 1110
      "11:15": 1115
      "11:20": 1120
      "11:25": 1125
      "11:30": 1130
      "11:35": 1135
      "11:40": 1140
      "11:45": 1145
      "11:50": 1150
      "11:55": 1155
      "12:00": 1200
      "12:05": 1205
      "12:10": 1210
      "12:15": 1215
      "12:20": 1220
      "12:25": 1225
      "12:30": 1230
      "12:35": 1235
      "12:40": 1240
      "12:45": 1245
      "12:50": 1250
      "12:55": 1255
      "13:00": 1300
      "13:05": 1305
      "13:10": 1310
      "13:15": 1315
      "13:20": 1320
      "13:25": 1325
      "13:30": 1330
      "13:35": 1335
      "13:40": 1340
      "13:45": 1345
      "13:50": 1350
      "13:55": 1355
      "14:00": 1400
      "14:05": 1405
      "14:10": 1410
      "14:15": 1415
      "14:20": 1420
      "14:25": 1425
      "14:30": 1430
      "14:35": 1435
      "14:40": 1440
      "14:45": 1445
      "14:50": 1450
      "14:55": 1455
      "15:00": 1500
      "15:05": 1505
      "15:10": 1510
      "15:15": 1515
      "15:20": 1520
      "15:25": 1525
      "15:30": 1530
      "15:35": 1535
      "15:40": 1540
      "15:45": 1545
      "15:50": 1550
      "15:55": 1555
      "16:00": 1600
      "16:05": 1605
      "16:10": 1610
      "16:15": 1615
      "16:20": 1620
      "16:25": 1625
      "16:30": 1630
      "16:35": 1635
      "16:40": 1640
      "16:45": 1645
      "16:50": 1650
      "16:55": 1655
      "17:00": 1700
      "17:05": 1705
      "17:10": 1710
      "17:15": 1715
      "17:20": 1720
      "17:25": 1725
      "17:30": 1730
      "17:35": 1735
      "17:40": 1740
      "17:45": 1745
      "17:50": 1750
      "17:55": 1755
      "18:00": 1800
      "18:05": 1805
      "18:10": 1810
      "18:15": 1815
      "18:20": 1820
      "18:25": 1825
      "18:30": 1830
      "18:35": 1835
      "18:40": 1840
      "18:45": 1845
      "18:50": 1850
      "18:55": 1855
      "19:00": 1900
      "19:05": 1905
      "19:10": 1910
      "19:15": 1915
      "19:20": 1920
      "19:25": 1925
      "19:30": 1930
      "19:35": 1935
      "19:40": 1940
      "19:45": 1945
      "19:50": 1950
      "19:55": 1955
      "20:00": 2000
      "20:05": 2005
      "20:10": 2010
      "20:15": 2015
      "20:20": 2020
      "20:25": 2025
      "20:30": 2030
      "20:35": 2035
      "20:40": 2040
      "20:45": 2045
      "20:50": 2050
      "20:55": 2055
      "21:00": 2100
      "21:05": 2105
      "21:10": 2110
      "21:15": 2115
      "21:20": 2120
      "21:25": 2125
      "21:30": 2130
      "21:35": 2135
      "21:40": 2140
      "21:45": 2145
      "21:50": 2150
      "21:55": 2155
      "22:00": 2200
      "22:05": 2205
      "22:10": 2210
      "22:15": 2215
      "22:20": 2220
      "22:25": 2225
      "22:30": 2230
      "22:35": 2235
      "22:40": 2240
      "22:45": 2245
      "22:50": 2250
      "22:55": 2255
      "23:00": 2300
      "23:05": 2305
      "23:10": 2310
      "23:15": 2315
      "23:20": 2320
      "23:25": 2325
      "23:30": 2330
      "23:35": 2335
      "23:40": 2340
      "23:45": 2345
      "23:50": 2350
      "23:55": 2355

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 2 Start"
    address: 149
    value_type: U_WORD
    icon: "mdi:clock-start"
    optionsmap: *tou_optionsmap

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 3 Start"
    address: 150
    value_type: U_WORD
    icon: "mdi:clock-start"
    optionsmap: *tou_optionsmap

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 4 Start"
    address: 151
    value_type: U_WORD
    icon: "mdi:clock-start"
    optionsmap: *tou_optionsmap

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 5 Start"
    address: 152
    value_type: U_WORD
    icon: "mdi:clock-start"
    optionsmap: *tou_optionsmap

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 6 Start"
    address: 153
    value_type: U_WORD
    icon: "mdi:clock-start"
    optionsmap: *tou_optionsmap

switch:
  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use"
    id: switch_time_of_use
    register_type: holding
    address: 146
    bitmask: 1
    icon: "mdi:toggle-switch"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 1 Charge Enable"
    id: switch_time_point_1_charge_enable
    register_type: holding
    address: 172
    bitmask: 1
    icon: "mdi:battery-plus"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 2 Charge Enable"
    id: switch_time_point_2_charge_enable
    register_type: holding
    address: 173
    bitmask: 1
    icon: "mdi:battery-plus"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 3 Charge Enable"
    id: switch_time_point_3_charge_enable
    register_type: holding
    address: 174
    bitmask: 1
    icon: "mdi:battery-plus"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 4 Charge Enable"
    id: switch_time_point_4_charge_enable
    register_type: holding
    address: 175
    bitmask: 1
    icon: "mdi:battery-plus"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 5 Charge Enable"
    id: switch_time_point_5_charge_enable
    register_type: holding
    address: 176
    bitmask: 1
    icon: "mdi:battery-plus"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 6 Charge Enable"
    id: switch_time_point_6_charge_enable
    register_type: holding
    address: 177
    bitmask: 1
    icon: "mdi:battery-plus"

number:
  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 1 Voltage"
    id: time_of_use_1_voltage
    register_type: holding
    address: 160
    unit_of_measurement: "V"
    device_class: voltage
    value_type: U_WORD
    multiply: 100
    min_value: 0
    max_value: 63
    step: 0.01
    icon: "mdi:sun-clock"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 2 Voltage"
    id: time_of_use_2_voltage
    register_type: holding
    address: 161
    unit_of_measurement: "V"
    device_class: voltage
    value_type: U_WORD
    multiply: 100
    min_value: 0
    max_value: 63
    step: 0.01
    icon: "mdi:sun-clock"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 3 Voltage"
    id: time_of_use_3_voltage
    register_type: holding
    address: 162
    unit_of_measurement: "V"
    device_class: voltage
    value_type: U_WORD
    multiply: 100
    min_value: 0
    max_value: 63
    step: 0.01
    icon: "mdi:sun-clock"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 4 Voltage"
    id: time_of_use_4_voltage
    register_type: holding
    address: 163
    unit_of_measurement: "V"
    device_class: voltage
    value_type: U_WORD
    multiply: 100
    min_value: 0
    max_value: 63
    step: 0.01
    icon: "mdi:sun-clock"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 5 Voltage"
    id: time_of_use_5_voltage
    register_type: holding
    address: 164
    unit_of_measurement: "V"
    device_class: voltage
    value_type: U_WORD
    multiply: 100
    min_value: 0
    max_value: 63
    step: 0.01
    icon: "mdi:sun-clock"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 6 Voltage"
    id: time_of_use_6_voltage
    register_type: holding
    address: 165
    unit_of_measurement: "V"
    device_class: voltage
    value_type: U_WORD
    multiply: 100
    min_value: 0
    max_value: 63
    step: 0.01
    icon: "mdi:sun-clock"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 1 Out Power"
    id: time_of_use_1_out_power
    unit_of_measurement: W
    device_class: power
    address: 154
    value_type: U_WORD
    icon: "mdi:power-plug"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 2 Out Power"
    id: time_of_use_2_out_power
    unit_of_measurement: W
    device_class: power
    address: 155
    value_type: U_WORD
    icon: "mdi:power-plug"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 3 Out Power"
    id: time_of_use_3_out_power
    unit_of_measurement: W
    device_class: power
    address: 156
    value_type: U_WORD
    icon: "mdi:power-plug"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 4 Out Power"
    id: time_of_use_4_out_power
    unit_of_measurement: W
    device_class: power
    address: 157
    value_type: U_WORD
    icon: "mdi:power-plug"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 5 Out Power"
    id: time_of_use_5_out_power
    unit_of_measurement: W
    device_class: power
    address: 158
    value_type: U_WORD
    icon: "mdi:power-plug"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 6 Out Power"
    id: time_of_use_6_out_power
    unit_of_measurement: W
    device_class: power
    address: 159
    value_type: U_WORD
    icon: "mdi:power-plug"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 1 SoC"
    unit_of_measurement: "%"
    address: 166
    min_value: 0
    max_value: 100
    step: 1
    value_type: U_WORD
    icon: "mdi:battery-clock"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 2 SoC"
    unit_of_measurement: "%"
    address: 167
    min_value: 0
    max_value: 100
    step: 1
    value_type: U_WORD
    icon: "mdi:battery-clock"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 3 SoC"
    unit_of_measurement: "%"
    address: 168
    min_value: 0
    max_value: 100
    step: 1
    value_type: U_WORD
    icon: "mdi:battery-clock"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 4 SoC"
    unit_of_measurement: "%"
    address: 169
    min_value: 0
    max_value: 100
    step: 1
    value_type: U_WORD
    icon: "mdi:battery-clock"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 5 SoC"
    unit_of_measurement: "%"
    address: 170
    min_value: 0
    max_value: 100
    step: 1
    value_type: U_WORD
    icon: "mdi:battery-clock"

  - platform: modbus_controller
    use_write_multiple: true
    modbus_controller_id: ${modbus_controller_id}
    name: "Time of Use 6 SoC"
    unit_of_measurement: "%"
    address: 171
    min_value: 0
    max_value: 100
    step: 1
    value_type: U_WORD
    icon: "mdi:battery-clock"
